<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="fragments/commons::head">
</head>
<body>
<header th:replace="fragments/commons::nav">
</header>
<main role="main">
    <div class="d-flex justify-content text-center">
        <div class="d-flex flex-row" style="margin-right: auto">
            <div id="carouselFor4gPlans" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li th:each="mb, i:${plans4G}" data-target="#carouselFor4gPlans" th:attr="data-slide-to=${i.index}"
                        th:classappend="${i.first}? 'active' : ''"></li>
                </ol>
                <div class="carousel-inner" role="listbox">
                    <div th:each="mb,i:${plans4G}" th:object="${mb}" class="carousel-item"
                         th:classappend="${i.index == 1} ? 'active'">
                        <img class="rounded" th:src="@{/images/4G.png}" alt="Second plan picture">
                        <div class="card text-white bg-dark mb-0" style="width: 35rem;">
                            <div class="card-body text-center 4G" id="4G">
                                <h5 class="card-title " th:text="*{name}">Име на плана</h5>
                                <table class="table table-dark">
                                    <tr>
                                        <th scope="col">#</th>
                                        <td scope="col">В страната</td>
                                        <td scope="col">В ЕС</td>
                                    </tr>
                                    <tr>
                                        <td>Интернет:</td>
                                        <td th:text="''+*{internet}+'MB'">Неограничен</td>
                                        <td th:text="''+*{internetEU}+'MB'">Неограничен</td>
                                    </tr>
                                    <tr>
                                        <td>Минути за разговори:</td>
                                        <td th:text="''+*{minutes}+' мин.'">Неограничени</td>
                                        <td th:text="''+*{minutesEU}+' мин.'">Неограничени</td>
                                    </tr>
                                    <tr>
                                        <td>SMS и ММS:</td>
                                        <td th:text="''+*{sms}+' бр.'">Неограничени</td>
                                        <td th:text="''+*{smsEU}+' бр.'">Неограничени</td>
                                    </tr>
                                    <tr th:if="${mb.services !=(null)}">
                                        <td>Допълителни услуги:</td>
                                        <td colspan="2"
                                            th:text="'Полагат ви се '+*{servicesCount} + '!'">
                                            HBO-GO, Spotify, NorcomCloud
                                        </td>
                                    </tr>
                                    <tr th:if="${mb.services==null}">
                                        <td>Допълителни услуги:</td>
                                        <td colspan="2"
                                            th:text="'Не ви се полагат услуги с този план!'">
                                            HBO-GO, Spotify, NorcomCloud
                                        </td>
                                    </tr>
                                </table>
                                <div class="price" style="margin: 20px;">
                                    <span th:text="'Цена '+*{price} +'лв.'">Цена 49,99лв.</span>
                                </div>
                                <div class="row">
                                    <div class="col col-sm-4">
                                        <div class="btn-group" sec:authorize="hasRole('ADMIN')">
                                            <div class="button-holder d-flex">
                                                <a th:href="@{/mobile-plans/{id}/edit-mobile-plan(id=*{id})}"
                                                   class="btn btn-success">Редактирай</a>
                                            </div>
                                            <th:block th:if="${mb.isCanDelete()}">
                                                <form th:action="@{/mobile-plans/all/{id}(id=*{id})}"
                                                      th:method="DELETE">
                                                    <div class="button-holder d-flex">
                                                        <input type="submit" class="btn btn-warning btn-lg"
                                                               value="Изтрий мобилен план"/>
                                                    </div>
                                                </form>
                                            </th:block>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselFor4gPlans" role="button"
                       data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselFor4gPlans" role="button"
                       data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
        <div class="wrapper" style="text-align: center;">
            <a th:href="@{/mobile-plans/add}" class="btn btn-success text-center">Добави план</a>
        </div>
        <div class="d-flex flex-row" style="margin-left: auto">
            <div id="carouselFor5gPlans" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li th:each="mb,i:${plans5G}" data-target="#carouselFor5gPlans" th:attr="data-slide-to=${i.index}"
                        th:classappend="${i.first}? 'active' : ''"></li>
                </ol>
                <div class="carousel-inner">
                        <div th:each="mb,i:${plans5G}" th:object="${mb}" class="carousel-item" th:classappend="${i.index==1}? 'active'" >
                            <img class="rounded" th:src="@{/images/5G.png}" alt="Second plan picture">
                            <div class="card text-white bg-dark mb-0">
                                <div class="card-body text-center 5G" id="5G">
                                    <h5 class="card-title " th:text="*{name}">Име на плана</h5>
                                    <table class="table table-dark">
                                        <tr>
                                            <th scope="col">#</th>
                                            <td scope="col">В страната</td>
                                            <td scope="col">В ЕС</td>
                                        </tr>
                                        <tr>
                                            <td>Интернет:</td>
                                            <td th:text="''+*{internet}+'MB'">Неограничен</td>
                                            <td th:text="''+*{internetEU}+'MB'">Неограничен</td>
                                        </tr>
                                        <tr>
                                            <td>Минути за разговори:</td>
                                            <td th:text="''+*{minutes}+' мин.'">Неограничени</td>
                                            <td th:text="''+*{minutesEU}+' мин.'">Неограничени</td>
                                        </tr>
                                        <tr>
                                            <td>SMS и ММS:</td>
                                            <td th:text="''+*{sms}+' бр.'">Неограничени</td>
                                            <td th:text="''+*{smsEU}+' бр.'">Неограничени</td>
                                        </tr>
                                        <tr th:if="${mb.services !=(null)}">
                                            <td>Допълителни услуги:</td>
                                            <td colspan="2"
                                                th:text="'Полагат ви се '+*{servicesCount} + '!'">
                                                HBO-GO, Spotify, NorcomCloud
                                            </td>
                                        </tr>
                                        <tr th:if="${mb.services==null}">
                                            <td>Допълителни услуги:</td>
                                            <td colspan="2"
                                                th:text="'Не ви се полагат услуги с този план!'">
                                                HBO-GO, Spotify, NorcomCloud
                                            </td>
                                        </tr>
                                    </table>
                                    <div class="price" style="margin: 20px;">
                                        <span th:text="'Цена '+*{price} +'лв.'">Цена 49,99лв.</span>
                                    </div>
                                    <div class="row">
                                        <div class="col col-sm-4">
                                            <div class="btn-group" sec:authorize="hasRole('ADMIN')">
                                                <div class="button-holder d-flex">
                                                    <a th:href="@{/mobile-plans/{id}/edit-mobile-plan(id=*{id})}"
                                                       class="btn btn-success">Редактирай</a>
                                                </div>
                                                <th:block th:if="${mb.isCanDelete()}">
                                                    <form th:action="@{/mobile-plans/all/{id}(id=*{id})}"
                                                          th:method="DELETE">
                                                        <div class="button-holder d-flex">
                                                            <input type="submit" class="btn btn-warning btn-lg"
                                                                   value="Изтрий мобилен план"/>
                                                        </div>
                                                    </form>
                                                </th:block>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                    <a class="carousel-control-prev" href="#carouselFor5gPlans" role="button"
                       data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselFor5gPlans" role="button"
                       data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</main>
<div th:replace="fragments/commons::footer" class="footer" id="footer">
</div>
</body>

</html>